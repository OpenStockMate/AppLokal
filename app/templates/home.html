<!-- home.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventory Home</title>
</head>
<body>

<h1>Component List</h1>

<!-- Ekleme Formu -->
<form method="post" action="{% url 'save_component' %}" id="add-component-form">
    {% csrf_token %}
    {{ component_form.as_p }}
    <button type="submit">Add Component</button>
</form>

<!-- Bileşen Listesi -->
<ul>
    {% for component in components %}
        <li>
            {{ component.model }} - {{ component.description }} - {{ component.category }} - {{ component.package }}  - Stock: {{ component.stock }}
            <a href="{% url 'delete_component' component.id %}" class="delete-link">Delete</a>
        </li>
    {% endfor %}
</ul>

<!-- Diğer modellerin listelenmesi için benzer blokları ekleyebilirsiniz -->

<script>
    // Silme bağlantılarına tıklandığında onay al
    document.querySelectorAll('.delete-link').forEach(link => {
        link.addEventListener('click', function (e) {
            e.preventDefault();
            if (confirm('Are you sure you want to delete this component?')) {
                window.location.href = link.getAttribute('href');
            }
        });
    });
</script>

</body>
</html>
